# ğŸ“¢ DailyNewsï¼šAI è‡ªåŠ¨èµ„è®¯æ‘˜è¦ä¸å¾®ä¿¡å‘å¸ƒå·¥å…·

> è‡ªåŠ¨æŠ“å–æ¯æ—¥èµ„è®¯ã€æ‘˜è¦é‡å†™ã€åˆ†ææ‰©å†™ï¼Œå¹¶ç”Ÿæˆé€‚é…å…¬ä¼—å·çš„ Markdown å’Œ HTMLï¼Œæ”¯æŒä¸€é”®ä¸Šä¼ å¾®ä¿¡è‰ç¨¿ç®±æˆ–é¢„è§ˆã€‚

---

## âœ¨ é¡¹ç›®ç‰¹ç‚¹

* ğŸ” è‡ªåŠ¨æŠ“å–å¾®ä¿¡å…¬ä¼—å·ã€ä¼ä¸šå®˜ç½‘ç­‰èµ„è®¯é¡µé¢
* ğŸ§  ä½¿ç”¨ OpenAI æ¨¡å‹ç”Ÿæˆæ‘˜è¦ä¸æ‰©å†™åˆ†æ
* ğŸ“„ è‡ªåŠ¨ç”Ÿæˆ Markdown å’Œç¾åŒ– HTMLï¼ˆé€‚é…å…¬ä¼—å·ï¼‰
* ğŸš€ ä¸€é”®æ¨é€è‡³å¾®ä¿¡å…¬ä¼—å·è‰ç¨¿ç®±ï¼ˆæ”¯æŒè‰ç¨¿ / é¢„è§ˆ / ç¾¤å‘ï¼‰
* ğŸ•“ æ”¯æŒæ¯æ—¥å®šæ—¶è¿è¡Œï¼ˆåŸºäº `schedule`ï¼‰

---

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ main.py               # ä¸»å…¥å£è„šæœ¬ï¼Œè°ƒåº¦å…¨æµç¨‹
â”œâ”€â”€ fetcher.py            # æ”¯æŒå¾®ä¿¡å…¬ä¼—å· / é€šç”¨ç½‘é¡µçš„æ–‡ç« æŠ“å–
â”œâ”€â”€ rewriter.py           # OpenAI æ‘˜è¦ç”Ÿæˆä¸æ‰©å†™
â”œâ”€â”€ renderer.py           # å°†æ–‡ç« åˆ—è¡¨æ¸²æŸ“ä¸º Markdown
â”œâ”€â”€ md2html.py            # Markdown è½¬å…¬ä¼—å·æ ·å¼ HTML
â”œâ”€â”€ publisher.py          # å¾®ä¿¡å…¬ä¼—å·è‰ç¨¿ / ç¾¤å‘ç®¡ç†
â”œâ”€â”€ utils.py              # é…ç½®è¯»å–ã€æ—¥å¿—è®¾ç½®ã€å·²å¤„ç†è®°å½•ç®¡ç†
â”œâ”€â”€ test.py               # è·å–ç²‰ä¸ OpenID å·¥å…·è„šæœ¬
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ urls.txt          # æ‰‹åŠ¨è¾“å…¥æ¨¡å¼çš„æ–‡ç« é“¾æ¥åˆ—è¡¨
â”‚   â””â”€â”€ settings.yaml     # API å¯†é’¥ä¸å‘å¸ƒå‚æ•°é…ç½®
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ seen.json         # å·²å¤„ç†è¿‡çš„æ–‡ç« é“¾æ¥è®°å½•
â”‚   â”œâ”€â”€ output/           # è¾“å‡º Markdown å’Œ HTML
â”‚   â””â”€â”€ logs/             # æ—¥å¿—è®°å½•
```

---

## âš™ï¸ å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

> ç¤ºä¾‹ä¾èµ–åŒ…æ‹¬ï¼š`openai`, `wechatpy`, `loguru`, `requests`, `bs4`, `markdown`, `pyyaml`

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### â–¶ æ‰‹åŠ¨æ¨¡å¼ï¼ˆè¯»å– `config/urls.txt`ï¼‰

```bash
python main.py --manual
```

### â–¶ è‡ªåŠ¨æ¨¡å¼ï¼ˆä»ç½‘ç«™è‡ªåŠ¨æŠ“å–ï¼‰

```bash
python main.py --once
```

### â–¶ æ¯æ—¥å®šæ—¶è°ƒåº¦ï¼ˆé»˜è®¤æ¯å¤©æ—©ä¸Š 8:00ï¼‰

```bash
python main.py
```

---

## ğŸ”‘ é…ç½®æ–‡ä»¶è¯´æ˜ï¼ˆ`config/settings.yaml`ï¼‰

```yaml
openai_api_key: "ä½ çš„OpenAI API Key"
wechat_app_id: "ä½ çš„å¾®ä¿¡å…¬ä¼—å· app_id"
wechat_app_secret: "ä½ çš„å¾®ä¿¡å…¬ä¼—å· app_secret"
preview_openid: "æµ‹è¯•é¢„è§ˆç”¨ openid"
extra_info: "æˆ‘è®¤ä¸ºè¯¥æŠ€æœ¯çš„å…³é”®åœ¨äº..."
thumb_path: "config/thumb.jpg"  # å°é¢å›¾è·¯å¾„
```

---

## ğŸ“¤ å‘å¸ƒæ¨¡å¼æ”¯æŒï¼ˆå¯é€‰é¡¹ï¼‰

* `none`ï¼šä¸è°ƒç”¨å¾®ä¿¡ API
* `draft_only`ï¼šåªåˆ›å»ºè‰ç¨¿ï¼ˆé»˜è®¤ï¼‰
* `preview`ï¼šè‰ç¨¿ + æ¨é€ç»™æŒ‡å®šç”¨æˆ·é¢„è§ˆ
* `sendall`ï¼šè‰ç¨¿ + ç¾¤å‘ï¼ˆâš å±é™©æ“ä½œï¼‰

é…ç½®æ–¹å¼è§ `main.py` ä¸­ `publish_mode` å‚æ•°è¯´æ˜ã€‚

---

## ğŸ§ª ç²‰ä¸ OpenID æŸ¥è¯¢ï¼ˆé€‰å¡«ï¼‰

```bash
python test.py
```

ç”¨äºè·å–ä½ çš„å¾®ä¿¡ç²‰ä¸ OpenIDï¼Œç”¨äºé¢„è§ˆå‘é€ã€‚

---

## ğŸ“„ License

MIT License. é¡¹ç›®ä»…ä¾›å­¦ä¹ ä½¿ç”¨ï¼Œè¯·å‹¿æ³„éœ²ä»»ä½•ç§é’¥ã€‚

